var List=function(){this._table={}};
List.prototype=function(){var d=function(a){return a&&typeof a==="object"&&a.constructor===Array?!0:Object.prototype.toString.call(a)=="[object Array]"?!0:!1},f=function(a,b){var c,e=typeof a;if(a===b)return!0;if(e!==typeof b)return!1;if(d(a)&&d(b)){if(a.length!==b.length)return!1;for(c=0;c<a.length;c+=1)if(a[c]!==b[c])return!1;return!0}if(e!=="object")return!1;if(Object.keys(a).length!==Object.keys(b).length)return!1;for(c in a){if(!b.hasOwnProperty(c))return!1;if(a.hasOwnProperty(c)&&b.hasOwnProperty(c))return f(a[c],
b[c])}return!0},g=function(a){var b,c={};a instanceof List?c=new List:d(a)&&(c=[]);for(b in a)if(a.hasOwnProperty(b))if(typeof a[b]==="string"||typeof a[b]==="number"||typeof a[b]==="boolean")c[b]=a[b];else if(typeof a[b]==="object"||d(a))c[b]=g(a[b]);return c};return{_table:this._table,_next:this._next,get:function(a){if(this._table.hasOwnProperty(a))return this._table[a]},add:function(a,b){return this._table[a]=b},remove:function(a){var b;if(a instanceof List)for(;b=a.next();)delete this._table[b];
else if(d(a))for(;a.length!==0;)delete this._table[a.pop()];else return b=this._table[a],delete this._table[a],b},keys:function(){return Object.keys(this._table)},values:function(){var a,b,c=this,e=[];this.each(function(d){b=!1;for(a=e.length;a--&&!b;)c.get(d)===e[a]&&(b=!0);b||e.push(c.get(d))});return e},items:function(){var a=[],b=this;this.each(function(c){a.push([c,b._table[c]])});return a},len:function(){var a=0;this.each(function(){a+=1});return a},clear:function(){this._table={}},hasKey:function(a){return this.get(a)!==
void 0},pop:function(a,b){return this.hasKey(a)?this.remove(a):b},popItem:function(){var a;a=this.keys();if(a.length!==0)return a=[a[0]],a.push(this.remove(a[0])),a},update:function(a){var b=this;a.each(function(c){b._table[c]=a.get(c)})},copy:function(){var a=new List;a.update(g(this));return a},each:function(a){for(var b in this._table)this._table.hasOwnProperty(b)&&a(b)},next:function(){if(this._next!==void 0&&this._next.length!==0)return this._next.pop();else if(this._next===void 0)return this._next=
this.keys(),this._next.pop();else if(this._next.length===0)return this._next=void 0},object:function(){return this._table},isEqual:function(a){if(!(a instanceof List))return!1;return f(this._table,a._table)}}}();
